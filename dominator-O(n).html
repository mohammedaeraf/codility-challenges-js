<script>
    // https://codility.com/media/train/6-Leader.pdf (Part 3)
    // Create Stack & push elements
    // If elements are different, remove from stack
    // If elements are same, let them pile up
    // The element that remains is the candidate 
    // If the element occurs > n/2 , it is the dominator (or leader)
    function solution(A) {

        let n = A.length
        let dominator = -1
        let counter = 0;

        let stack = []

        for (let i = 0; i < n; i++) {
            if (i === 0 || stack.length === 0) {
                stack.push(A[i])
                console.log('Pushing ' + A[i]);
            }
            else if (A[i] !== A[i - 1]) {
                console.log('Not pushing ' + A[i]);
                console.log('Popping ' + stack.pop());
            }
            else {
                console.log('Pushing ' + A[i]);
                stack.push(A[i])
            }
        }
        let candidate = -1

        if (stack.length > 0) {
            candidate = stack.pop()
            console.log('candidate ' + candidate);
        }

        for (let i = 0; i < n; i++) {
            if (candidate === A[i])
                counter++
        }
        console.log('counter ' + counter);

        if (counter > n / 2) {
            dominator = candidate;
        }
        return dominator;

    }

    const arr = [3, 2, 9, 3, 9, 9, 9, 8, 9]
    const dominator = solution(arr)
    console.log(dominator)

    // sample inputs
    // [1, 3, 1, 4, 1, 2, 1]
    // [4, -1, 3, 2, 3, 3, 3, 3]

    // case 1 - 8 elements; n/2 = 4
    // case 2 - 7 elements; n/2 = 3


</script>